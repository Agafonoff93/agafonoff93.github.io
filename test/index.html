<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
   

</head>
<body>
    <div class="infographics">
        <div class="circle">
          <img class="flag" src="loyalty.svg" alt="флаг">
            <svg class="circle-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 170.93 166.47">
                <defs>
                  <style>
                     .cls-circle-4 {
                      fill: none;
                      stroke-linecap: round;
                      stroke-miterlimit: 10;
                      stroke-width: 6px;
                    }
              
                 
                    .cls-circle-4 {
                      stroke: #cccccc70;
                    }
                  </style>
                </defs>
                <title>circle</title>
                <g id="Слой_2" data-name="Слой 2">
                  <g id="Слой_1-2" data-name="Слой 1">
                    <g id="circle">
                     
                      <path id="grey-circle" class="cls-circle-4" d="M114.15,3.67A82.46,82.46,0,1,1,58.65,3"/>
                    </g>
                  </g>
                </g>
              </svg>
            <svg id="logo" class="circle-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 170.93 166.47">
                <defs>
                  <style>
                    .cls-circle-1, .cls-circle-2, .cls-circle-3, .cls-circle-4 {
                      fill: none;
                      stroke-linecap: round;
                      stroke-miterlimit: 10;
                      stroke-width: 6px;
                    }
              
                    .cls-circle-1 {
                      stroke: #ed5243;
                    }
              
                    .cls-circle-2 {
                      stroke: #fcd329;
                    }
              
                    .cls-circle-3 {
                      stroke: #70a84b;
                    }
              
                   
                  </style>
                </defs>
                <title>circle</title>
                <g id="Слой_2" data-name="Слой 2">
                  <g id="Слой_1-2" data-name="Слой 1">
                    <g id="circle">
                      <path  id="red-circle" class="cls-circle-1 cls-circle red-circle" d="M114.15,3.67A82.46,82.46,0,1,1,58.65,3"/>
                     
                      <path  id="green-circle" class="cls-circle-3 cls-circle green-circle" d="M114.15,3.67A82.46,82.46,0,1,1,58.65,3"/>
                      <path  id="yellow-circle" class="cls-circle-2  cls-circle  yellow-circle" d="M114.15,3.67A82.46,82.46,0,1,1,58.65,3"/>
                    </g>
                  </g>
                </g>
              </svg>
            <div  class="text">
                <p class="prot" ><span  id="out-1">72</span><b class="pro" id="out-2">.7<b></b> </p>
                <p class="loyalty">лояльность</p>
                <p class="level">ниже среднего</p>
                <p class="description">по отрасли: <b>FMCG</b> <br> значений слева от мередианы <br> 52.0% - 83.1%</p>
                
        
            </div>
            <div class="stat"><p> <img src="arrow.svg" alt="">  3.1</p></div>
        </div> <!-- circle-->
        <div class="block">
            <div class="block__row ">
                <div class="block__list">
                    <p>промоутеры</p>
                </div>
                <div class="block__person">
                    <p><b id="out-3">32.0%</b><br>81<img src="human_full.svg"></p>
                </div>
                <div class="block__rating"><p id="out-6">+1,2%</p>
                  <div class="green-line"> </div>
                  <div class="green-line-sm"> </div>
                </div>
            </div>
            <div class="block__row">
                <div class="block__list">
                    <p>скептики</p>
                </div>
                <div class="block__person">
                  
                    <p><b id="out-4">39.1%</b><br>8<img src="human_full.svg"></p>
                </div>
                <div class="block__rating"><p id="out-7">+4,8%</p>
                  <div class="yellow-line"> </div>
                  <div class="yellow-line-sm"> </div>
                </div>
            </div>
            <div class="block__row">
                <div class="block__list">
                    <p>критики</p>
                </div>
                <div class="block__person">
                    <p><b id="out-5">79.8%</b><br>7<img src="human_full.svg"></p>
                </div>
                <div class="block__rating"> 
                  <div class="red-line"><p id="out-8">-9.7%</p> </div>
                  <div class="red-line-sm"> </div>
                </div>
            </div>
            
                    </div>
                </div>
    </div>
    <div class="infographics">
        <img class="line" src="/svg/line-1.svg" alt="">
              
              
        </div>

       
        <!-- <svg id="mySvg" xmlns:svg="http://www.w3.org/2000/svg" 
        xmlns="http://www.w3.org/2000/svg" 
        version="1.1" 
        x="0"
        y="0"
        width="100%"
        height="100%" 
        viewBox="0 0 1920 1080" 
        preserveAspectRatio="none">
         
       <path d="M 1045,520 L 1173,558 L 1184,393 Z" 
             fill="lightblue" 
             stroke="#eee9ea" 
             stroke-width="1.51">
             
               <animate 
               attributeName="d"
               dur="10s"
               repeatCount="indefinite"
               values="M 1045,520 L 1173,558 L 1184,393 Z;
                       M 1036,540 L 883,540 L 883,693 Z;
                       M 1045,520 L 1173,558 L 1184,393 Z"
               keyTimes="0; 0.5; 1" />
        </path> -->
   </svg>
   

       <script>

//circle-color

         let len = 0;
         let speed = 3;
         let delay = 0;

const paths = document.querySelectorAll('.green-circle');
paths.forEach(element => {
  let elementLen = element.getTotalLength();
  console.log(elementLen);
  
  len += elementLen
})

paths.forEach(element => {
  let elementLen = element.getTotalLength();
   let duration = elementLen / len * speed;

  element.style.animationDuration = `${duration}s`;
  element.style.animationDelay = `${delay}s`;

  element.setAttribute('stroke-dasharray', elementLen);
  element.setAttribute('stroke-dashoffset', elementLen);

  delay += duration + 0.2;
})

console.log(len);

//line-color 

let line = 0;
        
         

const pathsLine = document.querySelectorAll('.cls-color-line');
pathsLine.forEach(element => {
  let elementLine = element.getTotalLength();
  console.log(elementLine);
  
  line += elementLine
})

pathsLine.forEach(element => {
  let elementLine = element.getTotalLength();
   let duration = elementLine / line * speed;

  element.style.animationDuration = `${duration}s`;
  element.style.animationDelay = `${delay}s`;

  element.setAttribute('stroke-dasharray', elementLine);
  element.setAttribute('stroke-dashoffset', elementLine);

  delay += duration + 0.2;
})

console.log(line);

       </script> 
           <script>
 
            //бегущие цифры


   const time = 1500; //ms
     let step = 0.1; 

     function outNum_1(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n1 = 0;
    
   
       let t = time/(num/1);
      let interval = setInterval(()=> {
        if(n1 == num){
          clearInterval(interval);
        } 
        else if (n1 < num) {
          n1 += 1;
        }
        else {
          n1 -= 1;
        }
       
          l.innerHTML = n1 ;
         //console.log(num);
        
         
          
      } , t);
    };


    function outNum_2(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n2 = 0;
    
   
       let t = time/(num/1);
      let interval = setInterval(()=> {
        if(n2 == num){
          clearInterval(interval);
        } 
        else if (n2 < num) {
          n2 += 1;
        }
        else {
          n2 -= 1;
        }
       
          l.innerHTML = "." + n2 ;
         //console.log(num);
        
         
          
      } , t);
    };
    
    function outNum_3(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n3 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n3.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n3 < num) {
          n3 += step;
        }
        else {
          n3 -= step;
        }
       
          l.innerHTML = n3.toFixed(1) + "%";
         //console.log(num);
         
         
          
      } , t);
    };


    function outNum_4(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n4 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n4.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n4 < num) {
          n4 += step;
        }
        else {
          n4 -= step;
        }
       
          l.innerHTML = n4.toFixed(1) + "%";
         //console.log(num);
         
         
          
      } , t);
    }; 

    function outNum_5(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n5 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n5.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n5 < num) {
          n5 += step;
        }
        else {
          n5 -= step;
        }
       
          l.innerHTML = n5.toFixed(1) + "%";
         //console.log(num);
        
         
          
      } , t);
    };


    function outNum_6(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n6 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n6.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n6 < num) {
          n6 += step;
        }
        else {
          n6 -= step;
        }
       
          l.innerHTML = "+"+n6.toFixed(1) + "%";
         //console.log(num);
        
         
          
      } , t);
    };

    function outNum_7(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n7 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n7.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n7 < num) {
          n7 += step;
        }
        else {
          n7 -= step;
        }
       
          l.innerHTML = "+"+n7.toFixed(1) + "%";
         //console.log(num);
        
         
          
      } , t);
    };
    

    function outNum_8(num, elem) {
      let l = document.querySelector('#' + elem);
      
      n8 = 0;
    
   
       let t = time/(num/step);
      let interval = setInterval(()=> {
        if(n8.toFixed(1) == num){
          clearInterval(interval);
        } 
        else if (n8 < num) {
          n8 += step;
        }
        else {
          n8 -= step;
        }
       
          l.innerHTML = "-"+n8.toFixed(1) + "%";
         //console.log(num);
        
         
          
      } , t);
    };

      outNum_1 (72, 'out-1');
      outNum_2 (7, 'out-2');
      outNum_3 (32.0, 'out-3');
      outNum_4 (39.1, 'out-4');
      outNum_5 (79.8, 'out-5');
       outNum_6 (1.2, 'out-6');
      outNum_7(4.8, 'out-7');
     outNum_8 (9.7 , 'out-8')
        </script> 
       
</body>
</html>
